现在，我们已经研究了字符串的基本知识，让我们前进一步，开始考虑可以使用内置方法对字符串进行哪些有用的操作，例如查找文本字符串的长度，连接和拆分字符串，用字符串中的一个字符替换另一个，等等。

| 先决条件： | 基本的计算机知识，对HTML和CSS的基本理解，对JavaScript的理解。 |
| :--------- | ------------------------------------------------------------ |
| 目的：     | 要了解字符串是对象，并学习如何使用这些对象上可用的一些基本方法来操纵字符串。 |

## 字符串作为对象

大多数事情都是JavaScript中的对象。创建字符串时，例如通过使用

```js
let string = 'This is my string';
```

您的变量成为一个字符串对象实例，因此有大量可用的属性和方法。如果您转到`String`对象页面并向下查看页面侧面的列表，则可以看到此信息！

**现在，在您的大脑开始融化之前，不必担心！**您真的不需要在学习过程的早期就了解其中的大多数。但是有一些您可能会经常使用，我们将在这里进行介绍。 



### 查找字符串的长度



这很容易-您只需使用`length`属性。尝试输入以下几行：

```js
let browserType = 'mozilla';
browserType.length;
```

这应该返回数字7，因为“ mozilla”的长度为7个字符。出于多种原因，这很有用；例如，您可能想要查找一系列名称的长度，以便可以按长度顺序显示它们，或者让用户知道他们输入到表单字段中的用户名如果超过一定长度，则该名称太长。

### 检索特定的字符串字符



在相关说明中，您可以使用**方括号表示法**返回字符串中的任何字符-这表示您`[]`在变量名的末尾包括方括号（）。在方括号内，您要包含要返回的字符的编号，例如，要检索第一个字母，请执行以下操作：

```js
browserType[0];
```

请记住：计算机从0开始计数，而不是1！例如，您可以使用它来查找一系列字符串的第一个字母并按字母顺序对其进行排序。

要检索*任何*字符串的最后一个字符，我们可以使用以下行，将该技术与`length`我们在上面看到的属性结合起来：

```js
browserType[browserType.length-1];
```

“ mozilla”的长度为7，但由于计数从0开始，因此字符位置为6；使用 `length-1`会使我们成为最后一个角色。

### 在字符串中查找子字符串并将其提取



1. 有时，您会想要查找较大的字符串中是否存在较小的字符串（我们通常说子字符串中是否存在子字符串）。可以使用只使用`indexOf()`一个参数的方法来完成，该方法是您要搜索的子字符串。尝试这个：

   ```js
   browserType.indexOf('zilla');
   ```

   这使我们得到2的结果，因为子字符串“ zilla”从“ mozilla”内部的位置2（0、1、2-总共3个字符）开始。这样的代码可以用来过滤字符串。例如，我们可能有一个网址列表，只想打印出包含“ mozilla”的网址。

2. 这可以用另一种方式完成，这可能更有效。请尝试以下操作：

   ```js
   browserType.indexOf('vanilla');
   ```

   这应该给您一个结果-1当在主字符串中未找到子字符串（在这种情况下为“ vanilla”）时返回此结果。您可以使用它来查找不包含子字符串“ mozilla”的所有字符串实例，或者，如果使用否定运算符，则可以查找所有字符串实例，如下所示。您可以执行以下操作：

   ```js
   if(browserType.indexOf('mozilla') !== -1) {
     // do stuff with the string
   }
   ```

3. 当您知道子字符串在字符串中的何处开始并且知道要在哪个字符结束时， `slice()`可以使用它来提取它。请尝试以下操作：

   ```js
   browserType.slice(0,3);
   ```

   这将返回“ moz”-第一个参数是要开始提取的字符位置，第二个参数是要提取的最后一个字符之后的字符位置。因此，切片从第一个位置开始，一直到但不包括最后一个位置。在此示例中，由于起始索引为0，因此第二个参数等于要返回的字符串的长度。

4. 另外，如果您知道要提取某个字符之后的字符串中的所有其余字符，则不必包括第二个参数！相反，您只需要包括要从中提取字符串中其余字符的字符位置。请尝试以下操作：

   ```js
   browserType.slice(2);
   ```

   这将返回“ zilla”-这是因为2的字符位置是字母z，并且因为没有包括第二个参数，所以返回的子字符串是字符串中所有剩余的字符。 

**注意**：的第二个参数`slice()`是可选的：如果不包括它，则切片在原始字符串的结尾处结束。还有其他选择。研究`slice()`页面以了解其他内容。

### 改变大小写



字符串方法`toLowerCase()`和`toUpperCase()`接受一个字符串并将所有字符分别转换为小写或大写。例如，如果您想在将所有用户输入的数据存储在数据库中之前对其进行规范化，这将很有用。

让我们尝试输入以下行以查看会发生什么：

```js
let radData = 'My NaMe Is MuD';
radData.toLowerCase();
radData.toUpperCase();
```

### 更新字符串的一部分



您可以使用`replace()`方法将字符串中的一个子字符串替换为另一子字符串。尽管您可以使用它进行一些高级的操作，但我们将不做进一步介绍，但这在基本级别上非常简单。

它带有两个参数-您要替换的字符串和您要替换为的字符串。试试这个例子：

```js
browserType.replace('moz','van');
```

这将在控制台中返回“香草”。但是，如果您检查的值`browserType`，它仍然是“ mozilla”。要`browserType`在实际程序中实际更新变量的值，您必须将变量值设置为操作的结果；而不仅仅是自动更新子字符串值，因此您必须实际编写以下代码：`browserType = browserType.replace('moz','van');`

## 主动学习的例子

在本节中，我们将帮助您尝试编写一些字符串操作代码。在下面的每个练习中，我们都有一个字符串数组和一个循环，该循环处理数组中的每个值并将其显示在项目符号列表中。您现在不需要了解数组或循环-这些将在以后的文章中进行解释。在每种情况下，您所需要做的就是编写代码，以所需的格式输出字符串。

每个示例都带有一个“重置”按钮，如果您犯了一个错误并且无法再次使用它，则可以使用该按钮重置代码；如果您遇到错误，可以按一个“显示解决方案”按钮来查看潜在的答案。真的卡住了。

### 过滤问候语



在第一个练习中，我们将从简单开始-我们有一系列贺卡消息，但是我们希望对它们进行排序以仅列出圣诞节消息。我们希望您在`if( ... )`结构内部填写条件测试，以测试每个字符串，并仅在显示圣诞节消息时才将其打印在列表中。

1. 首先考虑一下如何测试每种情况下的消息是否都是圣诞节消息。所有这些消息中都有什么字符串，您可以使用什么方法测试它是否存在？
2. 然后，您需要编写一个形式为*operatornd1运算符operon2*的条件测试。左边的东西等于右边的东西吗？还是在这种情况下，左侧的方法调用会返回右侧的结果吗？
3. 提示：在这种情况下，测试方法调用*是否*等于某个结果可能更有用。



### 固定大写



在此练习中，我们使用了英国的城市名称，但是大写字母都被弄乱了。我们希望您将它们更改为小写，但首字母大写除外。一个好的方法是：

1. 将`input`变量中包含的整个字符串转换为小写并将其存储在新变量中。

2. 在此新变量中获取字符串的第一个字母，并将其存储在另一个变量中。

3. 使用此最新变量作为子字符串，将小写字符串的第一个字母替换为小写字符串的第一个字母（改为大写）。将替换过程的结果存储在另一个新变量中。

4. 将`result`变量的值更改为等于最终结果，而不是等于`input`。

   ```
   const list = document.querySelector('.output ul');
   list.innerHTML = '';
   let cities = ['lonDon', 'ManCHESTer', 'BiRmiNGHAM', 'liVERpoOL'];
   
   for (let i = 0; i < cities.length; i++) {
     let input = cities[i];
     // write your code just below here
   
     let result = input;
     let listItem = document.createElement('li');
     listItem.textContent = result;
     list.appendChild(listItem);
   }
   
   ```

   

**注意**：提示-字符串方法的参数不必是字符串文字；它们也可以是变量，甚至可以是在其上调用方法的变量。



### 用旧零件制作新琴弦



在最后一个练习中，数组包含一串字符串，其中包含有关英格兰北部火车站的信息。字符串是包含三个字母的站点代码的数据项，后跟一些机器可读数据，后跟一个分号，然后是人类可读的站点名称。例如：

```html
MAN675847583748sjt567654;Manchester Piccadilly
```

我们要提取站点代码和名称，并将它们放在一起，并具有以下结构的字符串：

```html
MAN: Manchester Piccadilly
```

我们建议这样做：

1. 提取三个字母的工作站代码，并将其存储在新变量中。
2. 查找分号的字符索引号。
3. 使用分号字符索引号作为参考点来提取人类可读的电台名称，并将其存储在新变量中。
4. 连接两个新变量和一个字符串文字以构成最终字符串。
5. 将`result`变量的值更改为等于最终字符串，而不是`input`。