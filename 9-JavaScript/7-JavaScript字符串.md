接下来，我们将注意力转移到字符串上-这就是在编程中称为文本的部分。在本文中，我们将研究在学习JavaScript时您真正应该了解的所有关于字符串的常见知识，例如创建字符串，将字符串中的引号转义以及将字符串连接在一起。

| 先决条件： | 基本的计算机知识，对HTML和CSS的基本理解，对JavaScript的理解。 |
| :--------- | ------------------------------------------------------------ |
| 目的：     | 熟悉JavaScript中的字符串基础。                               |

## 文字的力量

言语对人类非常重要-言语是我们交流方式的重要组成部分。由于Web是一种主要基于文本的媒体，旨在允许人类进行交流和共享信息，因此对我们控制出现在其中的单词非常有用。HTML提供了文本的结构和含义，CSS允许我们精确地设置其样式，JavaScript包含许多功能，用于处理字符串，创建自定义欢迎消息和提示，在需要时显示正确的文本标签，将术语按所需顺序排序，以及更多。

到目前为止，我们在本课程中向您展示的几乎所有程序都涉及一些字符串操作。

## 字符串-基础

乍一看，字符串的处理方法与数字类似，但是当您深入研究时，就会发现一些明显的区别。让我们从在浏览器开发者控制台中输入一些基本内容开始，以使自己熟悉。

### 创建一个字符串



1. 首先，输入以下几行：

   ```js
   let string = 'The revolution will not be televised.';
   string;
   ```

   就像处理数字一样，我们声明一个变量，使用字符串值对其进行初始化，然后返回该值。唯一的区别是，在编写字符串时，需要用引号将值引起来。

2. 如果您不这样做，或者错过了引号之一，则会收到错误消息。尝试输入以下几行：

   ```js
   let badString = This is a test;
   let badString = 'This is a test;
   let badString = This is a test';
   ```

   这些行不起作用，因为任何带有引号的文本都假定为变量名，属性名，保留字或类似名称。如果浏览器找不到它，则会引发错误（例如“ missing; before statement”）。如第二引号所示，如果浏览器可以看到字符串的起始位置，但找不到字符串的末尾，则它会报错（带有“未终止的字符串文字”）。如果您的程序出现此类错误，请返回并检查所有字符串以确保您没有缺少引号。

3. 如果您先前定义了变量，那么下面的方法将起作用`string`—立即尝试：

   ```js
   let badString = string;
   badString;
   ```

   `badString`现在已设置为与相同的值string。

### 单引号与双引号



1. 在JavaScript中，您可以选择单引号或双引号来包装字符串。以下两种方法都可以正常工作：

   ```js
   let sgl = 'Single quotes.';
   let dbl = "Double quotes";
   sgl;
   dbl;
   ```

2. 两者之间几乎没有什么区别，而您所使用的则取决于个人喜好。但是，您应该选择一个并坚持下去；不同引用的代码可能会造成混淆，尤其是在同一字符串上使用两个不同的引用时！以下将返回错误：

   ```js
   let badQuotes = 'What on earth?";
   ```

3. 浏览器会认为该字符串尚未关闭，因为您不习惯用来包含字符串的其他引号可能会出现在字符串中。例如，这两个都可以：

   ```js
   let sglDbl = 'Would you eat a "fish supper"?';
   let dblSgl = "I'm feeling blue.";
   sglDbl;
   dblSgl;
   ```

4. 但是，如果用于包含字符串，则不能在字符串中包含相同的引号。以下内容将出错，因为它会使浏览器混淆字符串的结尾位置：

   ```js
   let bigmouth = 'I've got no right to take my place...';
   ```

   这使我们很好地进入了下一个主题。

### 转义字符串中的字符



要修复我们之前的问题代码行，我们需要转义问题引号。转义字符意味着我们对它们进行操作以确保将其识别为文本，而不是代码的一部分。在JavaScript中，我们通过在字符前面加上反斜杠来实现。尝试这个：

```js
let bigmouth = 'I\'ve got no right to take my place...';
bigmouth;
```

这很好。您可以使用相同的方式对其他字符进行转义，例如`\"`，此外还有一些特殊代码。

## 连接字符串

1. 串联是一个花哨的编程词，意思是“连接在一起”。在JavaScript中将字符串连接在一起使用加号（+）运算符，与我们用于将数字加在一起的运算符相同，但是在这种情况下，它执行的操作有所不同。让我们在控制台中尝试一个示例。

   ```js
   let one = 'Hello, ';
   let two = 'how are you?';
   let joined = one + two;
   joined;
   ```

   其结果是一个名为的变量`joined`，其中包含值“ Hello，您好吗？”。

2. 在最后一种情况下，我们仅连接了两个字符串，但是只要`+`在每对之间包含a，您就可以连接任意多个字符串。尝试这个：

   ```js
   let multiple = one + one + one + one + two;
   multiple;
   ```

3. 您还可以混合使用变量和实际字符串。尝试这个：

   ```js
   let response = one + 'I am fine — ' + two;
   response;
   ```

**注意**：当您在代码中输入实际的字符串时，用单引号或双引号引起来，它称为**字符串文字**。

### 上下文中的串联



让我们看一下在操作中使用的串联-这是该课程前面的示例：

```html
<button>Press me</button>
const button = document.querySelector('button');

button.onclick = function() {
  let name = prompt('What is your name?');
  alert('Hello ' + name + ', nice to see you!');
}
```



在这里，我们`window.prompt()`在第4行中使用了一个函数，该函数要求用户通过弹出对话框回答问题，然后将他们输入的文本存储在给定变量中—在这种情况下为`name`。然后，我们`window.alert()`在第5行中使用一个函数来显示另一个弹出窗口，该弹出窗口包含我们`name`通过串联从两个字符串文字和变量组装而成的字符串。

### 数字与字符串



1. 那么，当我们尝试添加（或连接）字符串和数字时会发生什么？让我们在控制台中尝试一下：

   ```js
   'Front ' + 242;
   ```

   您可能希望它返回一个错误，但是效果很好。尝试将字符串表示为数字实际上没有任何意义，但是将数字表示为字符串确实可以，因此浏览器会巧妙地将数字转换为字符串，然后将两个字符串连接起来。

2. 您甚至可以使用两个数字来执行此操作-您可以通过将数字用引号引起来将其强制为字符串。请尝试以下操作（我们正在使用`typeof`运算符来检查变量是数字还是字符串）：

   ```js
   let myDate = '19' + '67';
   typeof myDate;
   ```

3. 如果您有一个要转换为字符串但不更改的数字变量，或者要转换为数字但不更改的字符串变量，则可以使用以下两种构造：

   - `Number`如果可以的话，该对象会将传递给它的所有内容转换为数字。请尝试以下操作：

     ```js
     let myString = '123';
     let myNum = Number(myString);
     typeof myNum;
     ```

   - 相反，每个数字都有一个称为的方法`toString()`将其转换为等效字符串。尝试这个：

     ```js
     let myNum = 123;
     let myString = myNum.toString();
     typeof myString;
     ```

   这些构造在某些情况下可能非常有用。例如，如果用户在表单的文本字段中输入数字，则为字符串。但是，如果您想将此数字添加到某物上，则需要将其作为数字，这样您就可以将其传递给它`Number()`以进行处理。我们正是在第54行的数字猜想游戏中做到了这一点。

## 模板文字

您可能会遇到的另一种字符串语法类型是**模板文字**（有时称为模板字符串）。这是一种更新的语法，可提供更灵活，更易于阅读的字符串。

**注意**：尝试在浏览器的JavaScript控制台中输入以下示例，以查看得到的结果。

要将标准字符串文字转换为模板文字，必须用引号（）替换引号（`' '`或）。因此，举一个简单的例子：`" "``` ``

```js
let song = 'Fight the Youth';
```

将被转换成这样的模板文字：

```js
song = `Fight the Youth`;
```

如果我们想连接字符串，或在其中包含表达式结果，那么传统的字符串可能会写得很奇怪：

```js
let score = 9;
let highestScore = 10;
let output = 'I like the song "' + song + '". I gave it a score of ' + (score/highestScore * 100) + '%.';
```

模板文字极大地简化了这一过程：

```js
output = `I like the song "${ song }". I gave it a score of ${ score/highestScore * 100 }%.`;
```

不再需要打开和关闭多个琴弦片-整个琴只可以包装在一对反引号中。如果要在字符串中包含变量或表达式，则可以将其包含在`${ }`称为*占位符*的构造中。

您可以在模板文字中包含复杂的表达式，例如：

```
设scoreScore = 45;
设auditHighestScore = 70;
examReport  =  `你拿下$ {  examScore  } / $ {  examHighestScore  }  （$ {  数学。轮（（examScore / examHighestScore * 100））} ％）。$ {  executScore  > =  49  吗？ “干得好，你过去了！” ：“运气不好，你这次没有过去。”  } `；
```

- 此处的前两个占位符非常简单，仅在字符串中包含一个简单值。
- 第三个计算百分比结果并将其舍入到最接近的整数。
- 第四种方法包括使用三元运算符检查分数是否高于某个标记，并根据结果打印通过或失败消息。

需要注意的另一点是，如果要将传统字符串分成多行，则需要包括换行符`\n`：

```js
output = 'I like the song "' + song + '".\nI gave it a score of ' + (score/highestScore * 100) + '%.';
```

模板文字尊重源代码中的换行符，因此不再需要换行符。这样可以达到相同的结果：

```js
output = `I like the song "${ song }".
I gave it a score of ${ score/highestScore * 100 }%.`;
```

我们建议您尽快习惯使用模板文字。它们在现代浏览器中得到了很好的支持，并且您会发现唯一缺乏支持的地方是Internet Explorer。我们的许多示例仍然使用标准的字符串文字，但是今后我们将包括更多的模板文字。